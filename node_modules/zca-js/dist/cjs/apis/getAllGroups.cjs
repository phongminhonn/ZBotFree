'use strict';

var ZaloApiError = require('../Errors/ZaloApiError.cjs');
var utils = require('../utils.cjs');

function getAllGroupsFactory(serviceURL) {
    return async function getAllGroups() {
        const response = await utils.request(serviceURL, {
            method: "GET",
        });
        const result = await utils.handleZaloResponse(response);
        if (result.error)
            throw new ZaloApiError.ZaloApiError(result.error.message, result.error.code);
        return result.data;
    };
}

exports.getAllGroupsFactory = getAllGroupsFactory;
